<%= content_tag :div, class: :row, data: { controller: 'draggable' } do %>
  <%= form_with(model: [@topic, @column], local: true) do |form| %>
    <div class="field">
      <%= form.label :title %>
      <%= form.text_field :title %>
    </div>
    <div class="actions">
      <%= form.submit %>
    </div>
  <% end %>
  <% @topic.columns.each do |column| %>
    <div class='col'>
      <div class='card'>
        <h5 class='card-title'><%= column.title %></h5>
        <div class='card-body'>
          <%= content_tag :ul, class: 'card-text dropzone', data: { id: column.id, target: 'draggable.column' } do %>
            <%= render column.todos, todo: @todo, column: column %>
          <% end %>
        </div>
          <%= simple_form_for [@topic, column, @todo], html: { autocomplete: 'off' }, remote: true do |f| %>
            <%= f.input :title %>
            <%= f.button :submit, 'submit', class: "" %>
          <% end %>
      </div>
    </div>
  <% end %>
<% end %>

<%#= link_to "Resources", resource_path(@topic) %>
